<template name="contacts">
<div class="medialist-toolbar">
  <div class="container-fluid">
    <button class="btn btn-link">{{#if checkSelectKeys}}{{pluralize 'contact' checkSelectKeys.length}}{{else}}All Contacts{{/if}}</button>
    <div class="btn-group">
      <a href="#" class="btn btn-primary" data-action="add-new">Add New</a>
    </div>
    {{#if checkSelectKeys}}
    <div class="btn-group">
      <a href="#" class="btn btn-success" data-action="add-to-existing-medialist">Add to existing</a>
      <a href="#" class="btn btn-success" data-action="create-new-medialist">Create new Medialist</a>
    </div>
    {{/if}}
    <div class="navbar-form navbar-right" role="filter">
      <div class="form-group">
        <input type="text" class="form-control" placeholder="Filter" data-field="filter-term" value="{{filterTerm}}">
      </div>
    </div>
  </div>
</div>
<table class="medialist-table table table-responsive">
  <thead>
  <tr>
    <th class="no-sort col-checkbox">
      <div class="checkbox checkbox-default">
        <label>
          <input type="checkbox"/>
          <span class="checkbox-material" data-checkbox-all>
            <span class="check"></span>
          </span>
        </label>
      </div>
    </th>
    <th></th>
    <th>Name</th>
    <th class="hidden-xs sort-default" data-sort-method="numeric">Organisation</th>
    <th class="hidden-xs">Title</th>
    <th class="no-sort hidden-xs col-wide">Medialists</th>
  </tr>
  </thead>
  <tbody>
    {{#each allContacts}}
      {{> allContactsRow this}}
    {{else}}
      <tr>
        <td colspan="6">
          <strong>Add some contacts&hellip;</strong>
        </td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
    {{/each}}
  </tbody>
</table>
</template>

<template name="allContactsRow">
  <tr class="contact-row" data-contact="{{slug}}" data-action="show-contact-slide-in">
    <td class="col-checkbox">
      <div class="checkbox checkbox-default">
        <label>
          <input type="checkbox" checked={{checked}} />
          <span class="checkbox-material" data-checkbox>
            <span class="check"></span>
          </span>
        </label>
      </div>
    </td>
    <td class="col-img">
    {{#if avatar}}
      <img class="img-rounded" width="40" height="40" src="{{avatar}}" alt="twitter profile image"/>
    {{/if}}
    </td>
    <td class="col-name">
      {{name}}
    </td>
    <td class="col-org hidden-xs">
      {{roles.[0].org.name}}
    </td>
    <td class="col-org hidden-xs">
      {{roles.[0].title}}
    </td>
    <td class="hidden-xs col-feedback">
      <h4>
      {{#each medialists}}
        <a class="label label-primary" href="/medialist/{{this}}">#{{this}}</a>
      {{/each}}
      </h4>
    </td>
  </tr>
</template>
